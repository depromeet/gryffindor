@import "tailwindcss";

/* iPhone Safe Area 지원 */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Ssgoi drill 애니메이션 최적화 */
html,
body {
  width: 100%;
}

/* 뷰포트 안정화 */
html {
  height: 100%;
}

body {
  height: 100dvh; /* 동적 뷰포트 지원 - iOS WebView를 위해 min-height → height 변경 */
  overflow-x: hidden;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* For IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

/* Safe Area Utilities */
.pb-safe {
  padding-bottom: max(20px, var(--safe-area-inset-bottom));
}

.pt-safe {
  padding-top: max(20px, var(--safe-area-inset-top));
}

.pl-safe {
  padding-left: max(20px, var(--safe-area-inset-left));
}

.pr-safe {
  padding-right: max(20px, var(--safe-area-inset-right));
}

/* Fixed 요소를 위한 최적화 */
.fixed-bottom-bar {
  box-shadow: 0 -2px 8px 0 rgba(0, 0, 0, 0.04);
  /* iOS에서 초기 렌더링 시 레이어 강제 생성 */
  transform: translateZ(0);
  will-change: transform;
  /* Transition 부모 요소의 transform 영향 차단 */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* drill 애니메이션에서 fixed 요소 문제 해결 */
/*
  문제: SsgoiTransition의 transform이 새로운 containing block을 생성하여
        내부 fixed 요소가 viewport 대신 부모 기준으로 위치함

  해결 방법:
  1. fixed 요소에 isolation: isolate로 새로운 stacking context 생성
  2. will-change: transform으로 레이어 분리
  3. transform: translate3d(0, 0, 0)로 GPU 가속 활성화
*/
[data-transition="drill"] .fixed {
  position: fixed;
  isolation: isolate;
  will-change: transform;
  transform: translate3d(0, 0, 0);
  /* 부모의 transform에서 독립 */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Font */
  --font-sans: var(--font-pretendard);

  /* Gray scale */
  --color-gray0: #ffffff;
  --color-gray50: #f3f5f8; /* screen background */
  --color-gray100: #e7e9ec; /* functional element background */
  --color-gray200: #dbdddf;
  --color-gray300: #c2c4c6;
  --color-gray400: #aaacae; /* secondary text, disabled text in button */
  --color-gray500: #929395;
  --color-gray600: #7a7b7c;
  --color-gray700: #49494a; /* secondary text, placeholder in button */
  --color-gray800: #242525;
  --color-gray900: #101010; /* basic text */

  /* Primary */
  --color-primary100: #ffe8e3; /* functional element background */
  --color-primary200: #ffcec4; /* outline color */
  --color-primary300: #ff9f8b; /* secondary impact color */
  --color-primary400: #ff5532; /* primary color */
  --color-primary500: #f24622; /* text and element on color */

  /* Status */
  --color-blue100: #eff6ff;
  --color-blue400: #1375f5;

  /* Error */
  --color-error: #ff2d2d;

  /* Typography scale */

  /* Heading */
  --text-heading1: 28px;
  --text-heading1--leading: 130%;
  --text-heading1--font-weight: 700;
  --text-heading1--letter-spacing: 0;

  --text-title1: 24px;
  --text-title1--leading: 135%;
  --text-title1--font-weight: 700;
  --text-title1--letter-spacing: 0;

  --text-title2: 20px;
  --text-title2--leading: 140%;
  --text-title2--font-weight: 600;
  --text-title2--letter-spacing: 0;

  --text-subtitle1: 17px;
  --text-subtitle1--leading: 140%;
  --text-subtitle1--font-weight: 600;
  --text-subtitle1--letter-spacing: -1%;

  /* Body */
  --text-body1-semibold: 16px;
  --text-body1-semibold--leading: 145%;
  --text-body1-semibold--font-weight: 600;
  --text-body1-semibold--letter-spacing: -1%;

  --text-body1-regular: 16px;
  --text-body1-regular--leading: 145%;
  --text-body1-regular--font-weight: 400;
  --text-body1-regular--letter-spacing: -1%;

  --text-body2-semibold: 14px;
  --text-body2-semibold--leading: 145%;
  --text-body2-semibold--font-weight: 600;
  --text-body2-semibold--letter-spacing: -1%;

  --text-body2-medium: 14px;
  --text-body2-medium--leading: 145%;
  --text-body2-medium--font-weight: 500;
  --text-body2-medium--letter-spacing: -1%;

  --text-body2-regular: 14px;
  --text-body2-regular--leading: 145%;
  --text-body2-regular--font-weight: 400;
  --text-body2-regular--letter-spacing: -1%;

  --text-body3-semibold: 13px;
  --text-body3-semibold--leading: 145%;
  --text-body3-semibold--font-weight: 600;
  --text-body3-semibold--letter-spacing: -1%;

  --text-body3-regular: 13px;
  --text-body3-regular--leading: 145%;
  --text-body3-regular--font-weight: 400;
  --text-body3-regular--letter-spacing: -1%;

  /* Caption */
  --text-caption1-bold: 12px;
  --text-caption1-bold--leading: 150%;
  --text-caption1-bold--font-weight: 700;
  --text-caption1-bold--letter-spacing: -1%;

  --text-caption1-semibold: 12px;
  --text-caption1-semibold--leading: 150%;
  --text-caption1-semibold--font-weight: 600;
  --text-caption1-semibold--letter-spacing: -1%;

  --text-caption1-medium: 12px;
  --text-caption1-medium--leading: 150%;
  --text-caption1-medium--font-weight: 500;
  --text-caption1-medium--letter-spacing: -1%;

  --text-caption2-semibold: 11px;
  --text-caption2-semibold--leading: 150%;
  --text-caption2-semibold--font-weight: 600;
  --text-caption2-semibold--letter-spacing: -1%;

  --text-caption2-medium: 11px;
  --text-caption2-medium--leading: 150%;
  --text-caption2-medium--font-weight: 500;
  --text-caption2-medium--letter-spacing: -1%;

  /* Shadow */
  --shadow-navigation: 0 4px 12px 0 rgba(0, 0, 0, 0.06);
  --shadow-fab: 0 4px 12px 0 rgba(0, 0, 0, 0.15);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--color-gray900);
}
